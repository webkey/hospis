@import "../utils/variables";
@import "../utils/mixins";
@import "../../libs/include-media/dist/include-media";

/* helper classes */
.bottom-space {
  margin-bottom: $bottom-space;

  @include media('<mob') {
    margin-bottom: $bottom-space--mob;
  }
}

.section-bottom-space {
  margin-bottom: $bottom-section;

  @include media('<mob') {
    margin-bottom: $bottom-section--mob;
  }
}

.mark {
  color: $mark-color;
}

.align-center {
  text-align: center;
}

.align-left {
  text-align: left;
}

.align-right {
  text-align: right;
}

.float-left {
  float: left;
}

.float-right {
  float: right;
}

.push-auto {
  margin-left: auto;
  margin-right: auto;
}

.nobr {
  white-space: nowrap;
}

.hide {
  display: none !important;
}

.hide-text {
  @include hide-text;
}

.desktop-only {
  @include media("<tab") {
    display: none;
  }
}

.devices-only {
  @include media(">=tab") {
    display: none;
  }
}

.mobile-only {
  @include media(">=mob") {
    display: none;
  }
}

/* ==================================== */
/* ======= NON CONTENT ELEMENTS ======= */
/* ==================================== */
/* breadcrumbs */
.breadcrumbs {
  color: $text-color-light;
  margin-bottom: $bottom-space;

  &:last-child {
    margin-bottom: 0;
  }
}

.breadcrumbs__list {
  padding: 0;
  margin: 0;
  list-style: none;
  cursor: default;
}

.breadcrumbs__item {
  display: inline;
  padding-right: 0.6rem;
  margin: 0;

  &::after {
    display: inline;
    content: "•";
    padding-left: 0.7em;
  }

  &:last-child {
    &::after {
      content: none;
    }
  }
}

/* breadcrumbs end */

/* ==================================== */
/* ============== HEADER ============== */
/* ==================================== */
.header {
  padding-top: 3rem;
  padding-bottom: 3rem;
}

.header-container {
  display: flex;
  align-items: center;
  position: relative;
  z-index: 5;
}

/* search */
.search {
  display: block;
  position: relative;
  width: 36rem;
  margin: 0;
  padding: 0;
  background-color: #f5f5f5;
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.150702);
  border-radius: 36rem;

  form, fieldset {
    display: block;
    position: relative;
    height: 100%;
    margin: 0;
    padding: 0;
  }

  fieldset {
    display: flex;
    align-items: center;
    justify-content: center;
    padding-right: 4rem;
  }

  input.search-input {
    display: block;
    width: 100%;
    height: 4.6rem;
    margin: 0;
    padding: 0 1.9rem;
    background: transparent;
    border: none;
    box-shadow: none;
    font-family: inherit;
    font-size: 1.4rem;
    line-height: 4.6rem;
    color: #313131;

    @include placeholder {
      color: #999;
    }
  }

  button {
    $size: 3.8rem;
    display: block;
    position: absolute;
    right: 0.4rem;
    top: 0.4rem;
    margin: 0;
    padding: 0;
    border: none;
    height: $size;
    width: $size;
    border-radius: $size;
    font-size: 0;
    line-height: 0;
    color: $highlight-color;
    cursor: pointer;
    background: #fff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.13);
    transition: color $animation-speed;

    span {
      font-size: 0;
      line-height: 0;
    }

    svg {
      display: block;
      position: absolute;
      left: 50%;
      top: 50%;
      width: 1.6rem;
      height: 1.3rem;
      margin: -0.7rem 0 0 -0.8rem;
    }

    // Hover
    .no-touchevents &:hover {
      color: $highlight-color--hover;
    }
  }
}
/* search end */


/* ==================================== */
/* ============= SIDEBAR =============== */
/* ==================================== */
body {
  height: auto;
}

.sidebar {
  width: 30.8rem;
  position: fixed;
  left: 0;
  top: 0;
  padding: 4rem 4rem 4rem #{nth($layout-page-space, 2)};
  z-index: 10;

  // ------ бутерброд -----------------------------------------
  @include media("<tab") {
    padding: 0;
    height: 100%;
    overflow-x: hidden;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
}

/* logo */
.logo {
  flex-shrink: 0;
  position: relative;
  overflow: hidden;
  width: 175px;
  margin: 0 0 2rem;
  background: url(../../img/logo.png) no-repeat;
  background-size: contain;
  text-indent: -9999px;
  z-index: 5;

  &::before {
    content: "";
    display: block;
    @include ratio(175, 145);
  }

  a, & > span {
    display: block;
    height: 100%;
  }
}

/* logo end */

/* slogan */
.slogan {
  @include font-italic;
  font-size: 1.3rem;
  line-height: 1.8rem;
  color: $base-color;
  margin-bottom: 5rem;

  &:last-child {
    margin-bottom: 0;
  }
}
/* slogan end */

/* ==================================== */
/* ============ NAVIGATION ============ */
/* ==================================== */

// Nav wrapper
.nav-wrap {
  position: relative;
  // Поднять над контентом
  z-index: 5;
  margin-bottom: 5rem;

  &:last-child {
    margin-bottom: 0;
  }

  // ------ бутерброд -----------------------------------------
  @include media("<tab") {
    position: fixed;
    display: block;
    left: 0;
    top: 0;
    width: 48rem;
    max-width: 100%;
    height: 100%;
    background-color: $bg-color;
    z-index: 999;
    transition: {
      property: opacity, visibility, trasform;
      duration: $animation-speed;
    };

    opacity: 0;
    $translate: -100%, 0;
    transform: translate($translate);
    transform: translate3d($translate, 0);
  }

  &.is-open {
    // ------ бутерброд -----------------------------------------
    @include media("<tab") {
      opacity: 1;
      $translate: 0, 0;
      transform: translate($translate);
      transform: translate3d($translate, 0);
    }
  }
}

// Overlay
.nav-overlay {
  position: fixed;
  left: 0;
  top: 0;
  height: 100%;
  width: 100%;
  background-color: rgba(#000, 0.5);
  z-index: 998;
  transition: opacity $animation-speed;

  opacity: 0;
  pointer-events: none;

  display: none;

  // ------ бутерброд -----------------------------------------
  @include media("<tab") {
    display: block;
  }
}

.nav-wrap.is-open ~ .nav-overlay {
  opacity: 1;
  pointer-events: auto;
}

// Navigation
.nav {
  position: relative;

  // ------ бутерброд -----------------------------------------
  @include media("<tab") {
    padding: 0;
    height: 100%;
    overflow-x: hidden;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
}

// Navigation list
.nav__list {
  $nav-inner-space: 1.5rem 2rem;
  $nav-arrow-size: 2.4rem 4.0rem;
  $nav-item-space: 0.5em 0;
  $nav-item-indent: 0.4;

  cursor: default;

  // Все ul
  &, & ul {
    list-style: none;
    margin: 0;
    padding: 0;
    font-size: 1.6rem;
    line-height: 2.4rem;
    color: #131313;
  }

  li {
    position: relative;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    margin: #{nth($nav-item-space, 1)} 0 0;
    padding: 0 0 0 #{nth($nav-inner-space, 2)};

    &:first-child {
      margin-top: #{nth($nav-item-space, 1) + $nav-item-indent};
    }

    &:last-child {
      margin-bottom: #{0em + $nav-item-indent};
    }
  }

  // Все "a"
  a {
    color: inherit;
    text-decoration: none;
    transition: color $animation-speed;
  }

  // Все "a" и "span"
  // "a" заменять на "span" в пункте текущей страницы
  a,
  li > span {
    //padding: 0 1rem 0 0;
  }

  li.has-sub {
    & > a,
    & > span {
      // Если в пункте есть стрелка,
      // то нужно ограничить максимальную ширину "a"
      max-width: calc(100% - #{nth($nav-arrow-size, 2)});
    }
  }

  // Вложенные ul (sub menu)
  ul {
    flex-shrink: 0;
    width: 100%;
    flex-basis: 100%;
    //display: none;
  }

  // Стрелка для разворачивания подменю
  .nav__angle {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    font-size: 0;
    line-height: 0;
    height: nth($nav-arrow-size, 1);
    width: nth($nav-arrow-size, 2);
    padding: 0;
    text-align: center;
    cursor: pointer;
    color: $highlight-color;
    transition: color $animation-speed;
    -webkit-tap-highlight-color: transparent;
    user-select: none;
    outline: none;

    @at-root {
      li.is-open > .nav__angle {
        transform: rotate(0.5turn);
      }
    }

    &::before {
      content: "";
      display: block;
      position: absolute;
      left: 50%;
      top: 50%;
      @include triangle("bottom", currentColor, 6px, 1);
      margin: -3px 0 0 -6px;
    }

    .no-touchevents &:hover {
      color: $highlight-color--hover;
    }
  }

  // Пункт для текущей страницы
  // Current
  li {
    &.current {
      & > ul {
        display: block;
      }

      & > a, & > span {
        @include font-bold;
        color: $base-color;
      }
    }
  }

  // Hover
  .no-touchevents & a:hover {
    color: $base-color;
  }

  // li ПЕРВОГО уровня
  // -----------------
  & > li {
    padding-left: 0;

    &:first-child {
      margin-top: 0;
      border-top: none;
    }

    &:last-child {
      margin-bottom: 0;
    }

    // Все "a" и "span" первого уровня
    // "a" заменять на "span" в пункте текущей страницы
    & > a,
    & > span {
      @include font-bold;
    }
  }
}

/* s-phone */
.s-phone {
  padding-left: 5.7rem;
  @include font-bold;
  font-size: 1.4rem;
  text-align: left;
  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIHZpZXdCb3g9IjAgMCAxNyAxNyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48bWFzayBpZD0ibWFzazAiIG1hc2stdHlwZT0iYWxwaGEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjAiIHk9IjAiIHdpZHRoPSIxNyIgaGVpZ2h0PSIxNyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0wIDBIMTdWMTdIMFYwWiIgZmlsbD0id2hpdGUiLz48L21hc2s+PGcgbWFzaz0idXJsKCNtYXNrMCkiPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOC41IDBDMy44MDU4NSAwIDAgMy44MDU4NSAwIDguNUMwIDEzLjE5MzkgMy44MDU4NSAxNyA4LjUgMTdDMTMuMTkzOSAxNyAxNyAxMy4xOTM5IDE3IDguNUMxNyAzLjgwNTg1IDEzLjE5MzkgMCA4LjUgMFpNMTIuOTg4NSAxMi40MDIzTDEyLjMwOCAxMy4wODMxQzEyLjE4NjUgMTMuMjA0MyAxMS44MzA3IDEzLjI4MDIgMTEuODE5MSAxMy4yODAyQzkuNjY2MTMgMTMuMjk4OSA3LjU5MzA2IDEyLjQ1MzIgNi4wNjk5MiAxMC45MzAxQzQuNTQyNTQgOS40MDE3MSAzLjY5NTk1IDcuMzIxMTcgMy43MTg4MSA1LjE2MTA3QzMuNzE4ODEgNS4xNTk5MSAzLjc5NjYzIDQuODE0NDMgMy45MTc4NyA0LjY5NDE1TDQuNTk4NjUgNC4wMTMzN0M0Ljg0NzY3IDMuNzYzMzkgNS4zMjU5MiAzLjY1MDIxIDUuNjYxMDIgMy43NjIyM0w1LjgwNDM4IDMuODEwMDhDNi4xMzg0OCAzLjkyMjEgNi40ODkxOSA0LjI5MTQgNi41ODE0MSA0LjYzMTlMNi45MjM4MSA1Ljg4ODM0QzcuMDE2MjQgNi4yMjk3OSA2Ljg5MTczIDYuNzE1MzQgNi42NDI3MSA2Ljk2NDM2TDYuMTg4MjggNy40MTg3OUM2LjYzNDQ1IDkuMDcwNjggNy45MzAyOCAxMC4zNjY1IDkuNTgyMTcgMTAuODEzOEwxMC4wMzY2IDEwLjM1OTRDMTAuMjg2NiAxMC4xMDkyIDEwLjc3MjMgOS45ODQ3MSAxMS4xMTI2IDEwLjA3NzFMMTIuMzY5MSAxMC40MjA1QzEyLjcwOTYgMTAuNTEzOSAxMy4wNzg5IDEwLjg2MjYgMTMuMTkwOSAxMS4xOTY2TDEzLjIzODcgMTEuMzQxOEMxMy4zNDk3IDExLjY3NiAxMy4yMzc2IDEyLjE1NDQgMTIuOTg4NSAxMi40MDIzWiIgZmlsbD0id2hpdGUiLz48L2c+PC9zdmc+);
  background-repeat: no-repeat;
  background-position: 1.8rem 50%;
  background-size: 2rem 2rem;
}
/* s-phone end */

/* sidebar-contacts */
.sidebar-contacts {
  margin: 0 -2.4rem 3rem;

  &:last-child {
    margin-bottom: 0;
  }
}
/* sidebar-contacts end */

/* social */
.social {
  margin: 0 -1.2rem 3rem;

  &:last-child {
    margin-bottom: 0;
  }
}

.social__item {
  $size: 3.8rem;
  position: relative;
  display: inline-block;
  vertical-align: top;
  height: $size;
  width: $size;
  margin: 0 0.6rem 0.6rem 0;
  font-size: 1.4rem;
  line-height: 1.8rem;
  text-align: left;
  color: $text-color-muted;
  text-decoration: none;
  transition: color $animation-speed;

  .no-touchevents &:hover {
    color: $highlight-color;
  }

  & > span {
    @include hide-text;
  }

  svg {
    $size: 2rem;
    $int: round-float($size / 2, 1);
    display: inline-block;
    vertical-align: top;
    position: absolute;
    top: 50%;
    left: 50%;
    height: $size;
    width: $size;
    margin: -#{$int} 0 0 -#{$int};
  }

  path {
    fill: currentColor;
  }
}

/* social end */


/* ==================================== */
/* ============= FOOTER =============== */
/* ==================================== */
.footer {
  position: relative;

  //z-index: 5

  .layout-page-spaces {
    padding-right: 0;
  }
}

.footer__holder {
  background-color: $base-color;
  padding: 2rem nth($layout-page-space, 2) 2rem 6rem;
}

/* footer bottom */
.footer-bottom {
  position: relative;

  // обрезать вытянутый маржинами по горизонтале дочерний элемент
  overflow: hidden;
}

.footer-bottom__holder {
  position: relative;
  display: flex;
  flex-wrap: wrap;

  @include margin-horizontal(-#{round(nth($grid-space, 2) / 2)});

  margin-bottom: -#{round(nth($grid-space, 1) / 2)};
}

.footer-bottom__col {
  text-align: center;

  @include padding-horizontal(round(nth($grid-space, 2) / 2));

  margin-bottom: #{round(nth($grid-space, 1) / 2)};

  // для браузеров не поддерживающих display: flex
  display: inline-block;
  vertical-align: top;
  width: calc(33.33% - 5px);

  @include media("<mob") {
    min-width: 100%;
  }


  &:first-child {
    @include media(">=mob") {
      text-align: left;
    }
  }

  &:last-child {
    @include media(">=mob") {
      text-align: right;
    }
  }

  a {
    color: inherit;
    text-decoration: none;

    .no-touchevents &:hover {
      text-decoration: underline;
    }
  }
}

/* footer bottom end */

/* developer */
.developer {
  display: inline-block;

  a {
    text-decoration: none;

    .no-touchevents &:hover {
      text-decoration: none;
    }
  }
}

.developer__label {
  @include media("<mob") {
    display: block;
  }


  i {
    @include media("<mob") {
      display: none;
    }
  }
}

.developer__logo {
  display: inline-block;
  vertical-align: top;

  position: relative;
  top: 5px;
  padding-right: 3px;

  @include size(154px, 20px);

  text-align: left;
  text-indent: -9999px;

  &::before, &::after {
    content: "";
    display: block;
    position: absolute;
    left: 0;
    top: 0;
    height: 16px;
    width: 149px;
  }

  &::before {
    content: "";
    display: block;
    position: absolute;
    left: 4px;
    top: 4px;
    background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTMyIDc5LjE1OTI4NCwgMjAxNi8wNC8xOS0xMzoxMzo0MCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUuNSAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTA2ODc1N0UwOEJDMTFFNzlCNzhBOUI2REQxMjc4QzgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTA2ODc1N0YwOEJDMTFFNzlCNzhBOUI2REQxMjc4QzgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5MDY4NzU3QzA4QkMxMUU3OUI3OEE5QjZERDEyNzhDOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5MDY4NzU3RDA4QkMxMUU3OUI3OEE5QjZERDEyNzhDOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnDruBQAAAAkSURBVHjaYmRgYPjPACL+/2cE0YwYAkAGA5jByPgfqwBAgAEAP4gP/bFMMZQAAAAASUVORK5CYII=");
    background-size: 2px;
  }

  //.no-touchevents a:hover
  // transform: translate(0, 1px)
  // filter: blur(2px)
  // opacity: 0.6

  &::after {
    content: "";
    display: block;
    position: absolute;
    background: #00ef85 url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAAgBAMAAABa5liJAAAAMFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABaPxwLAAAAD3RSTlMAd7tEIt0R7pkzzIhmqlV9QenDAAAD2klEQVRYw+2WPYsTURSGj5oEs0lMBkUUlMSUWkxwxNKsnV2ihWCVbGXpFwhWs6Io2GT0D2xQsM2KqGUEEUvFwjbxF7irO2ZMsh7PuRvP3Xuv2mhhkRd258zuvc/7bOaDhXnmmedvUi79S1rK2wcqp99XnyzSwVOhib4fBJWl98ciOuS9GsCuQzR5HNLY4akdW1ovDc6OvUCLPS7wPJ5lEKBU6FJJDiezI4Wa6qhCAny4AKwTIiZtgJ3YpLrPAICcNYAi7+ggAHyET7Udw22c4jrQYiQ1pJwFGTRQKnSpJI0xcAbxE+8e4R5Uq+HVajUCwCOHWyM6Qnn05BlWWGs60/K81lmPu7ELELJW+KF+wj8vHEPr5oEeLsuggVKhSyUrE+SzPbx+Fr8CHCwR9h1AFh9DpjdlrVhp6TXFeAPyMWudGfXvJovCMbRqkOp9kUGAUqGBOv3zuEqH3QRwtaB3GaAworqLMWklOLS0kgkUJgjshWQlHEsLGpsyaKCucLVaq4MmUOWvtfw1IiXqlolg57pfMbXq32NoXBMt4ThaC2MZNFAqXK0s1srf1KrSLz8tUn77HZhZIq1PXyyttTAqP+e646P+iyQSjq21M5ZBA6XC1cqNoDHhpzfcXHS18ryv/JVOMkor/dnW6iy3IqrL0C1/ctAUjq1FG2UQoFS4WukEFmIe3uDm0NK6daozbgMM1tTZO9LKY2RqNVdujIHrXsHb2p6hcGyt+lQGDZQKV2vlO+2NaEh1MH5palHu8OkWpUJamXDZ1Kqkx+ukJW954ZhaS2FXBg2UClerfxlSuKp4L9AUx3O9RJ3qTwvKG4ZWubIDN7ZpCcfQengU40gGDZQKV6v1jr6aoPIau+a9lVfCnS1KibUuJpZWiuj6aRGO9ZYf7QcZNFAqHK0sPg2CwTdQyfhTUwvKX7j7mzyJ9IQsmVrgv7S1mGNo7Q0iABk0UCocrRxyJrOzxrqldZEdPk1VQcRaKfQsLQBDSzhFhhZm7wWODAKUCkcrjZyxvAItrRyTLvHGdAysBZ2zrpavtTRngdctbLpaApQKV2uFxXO4CCpv7YuYQhoLOCSB6ZZWI96uNXC0hLObofWpqyVAqXC1+vxmy9JvC68A7ofXLS3obABtvNJewi5rcRtrBUHvUVD7udJfFp5wSOIR7ArPu1oClApHix9EStiFIlJGka3VSPiP5+vcZi1mb/9/y1+1iZrTx888uFoClAobkuWfK+GdIWK8H2ytAl+KrK8ebKUFvqFVsomas6eHeBt+pSVAqRCImyBow2+SCSL4c1wO76r9CTjPPPP8x/kBIrOdsjg4YcgAAAAASUVORK5CYII=") no-repeat center center;
    background-size: auto 16px;

    .no-touchevents a:hover & {
      transform: translate(0, -1px);
    }
  }
}

/* developer end */

/* ==================================== */
/* ============== MAIN ================ */
/* ==================================== */
.main {
  position: relative;
}

.content {
  background-color: rgba(whitesmoke, 0.8);
}